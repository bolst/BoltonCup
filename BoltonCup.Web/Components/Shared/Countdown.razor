@namespace BoltonCup.Components
@inject IJSRuntime JS

<div class="countdown"></div>

<MudStack Class="px-20 mx-10" Row="true" Wrap="Wrap.Wrap" Justify="Justify.SpaceEvenly">
    @TimeUnitRF("days")
    @TimeUnitRF("hours")
    @TimeUnitRF("minutes")
    @TimeUnitRF("seconds")
</MudStack>

@code {

    protected override async Task OnAfterRenderAsync(bool firstRender)
    {
        if (firstRender)
        {
            await JS.InvokeVoidAsync("countdown", "06/27/2025 05:00:00 PM");
        }
    }

    private RenderFragment TimeUnitRF(string id) => __builder =>
    {
        <div class="d-flex justify-center">
            <MudStack Class="px-1" AlignItems="AlignItems.Center">
                <MudText Color="Color.Secondary" Typo="Typo.h1" HtmlTag="i"><b><span id="@id"></span></b></MudText>
                <MudText Color="Color.Secondary" Typo="Typo.h6" HtmlTag="i">@id</MudText>
            </MudStack>
        </div>
    };
}
